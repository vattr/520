<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>爱的告白</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            love: {
              primary: '#FF4D6D',
              secondary: '#FFB6C1',
              accent: '#FF85A2',
              light: '#FFF0F3',
              dark: '#C9184A'
            }
          },
          fontFamily: {
            romantic: ['Segoe UI', 'Roboto', 'sans-serif']
          },
          animation: {
            'float': 'float 3s ease-in-out infinite',
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'heartbeat': 'heartbeat 1.5s ease-in-out infinite'
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            heartbeat: {
              '0%, 100%': { transform: 'scale(1)' },
              '14%': { transform: 'scale(1.2)' },
              '28%': { transform: 'scale(1)' },
              '42%': { transform: 'scale(1.2)' },
              '70%': { transform: 'scale(1)' }
            }
          }
        }
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .text-shadow-lg {
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.08);
      }
      .bg-gradient-love {
        background-image: linear-gradient(135deg, #FF4D6D 0%, #FFB6C1 100%);
      }
      .mask-radial-fade {
        mask-image: radial-gradient(circle at center, black 50%, transparent 80%);
      }
      .smooth-move {
        transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
      }
    }
  </style>
</head>
<body class="font-romantic bg-love-light min-h-screen overflow-x-hidden">
  <!-- 背景爱心装饰 -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
    <div class="absolute -top-20 -left-20 w-40 h-40 bg-love-secondary/20 rounded-full blur-3xl"></div>
    <div class="absolute top-1/3 -right-20 w-60 h-60 bg-love-primary/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 -left-10 w-52 h-52 bg-love-accent/10 rounded-full blur-3xl"></div>
    
    <!-- 漂浮爱心 -->
    <div class="absolute top-10 left-10 text-love-primary/20 text-4xl animate-float" style="animation-delay: 0s;">
      <i class="fa-solid fa-heart"></i>
    </div>
    <div class="absolute top-1/4 right-1/3 text-love-primary/20 text-3xl animate-float" style="animation-delay: 0.5s;">
      <i class="fa-solid fa-heart"></i>
    </div>
    <div class="absolute bottom-1/3 left-1/4 text-love-primary/20 text-5xl animate-float" style="animation-delay: 1s;">
      <i class="fa-solid fa-heart"></i>
    </div>
    <div class="absolute bottom-1/4 right-1/5 text-love-primary/20 text-3xl animate-float" style="animation-delay: 1.5s;">
      <i class="fa-solid fa-heart"></i>
    </div>
    <div class="absolute top-1/2 left-1/5 text-love-primary/20 text-4xl animate-float" style="animation-delay: 2s;">
      <i class="fa-solid fa-heart"></i>
    </div>
  </div>

  <!-- 主容器 -->
  <div class="relative min-h-screen flex flex-col items-center justify-center px-4 py-8 z-10">
    <!-- 标题卡片 -->
    <div id="card" class="w-full max-w-md mb-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden transform transition-all duration-700 hover:shadow-2xl">
      <div class="bg-gradient-love p-6 text-center">
        <h1 class="text-[clamp(2rem,5vw,3rem)] font-bold text-white text-shadow-lg">爱的告白</h1>
        <p class="text-white/90 mt-2 text-lg">给我最爱的人</p>
      </div>
      
      <!-- 内容区域 -->
      <div id="card-content" class="p-6 space-y-6 relative">
        <!-- 情书部分 -->
        <div class="bg-white/70 p-5 rounded-xl shadow-md border border-love-secondary/20">
          <p class="text-gray-700 leading-relaxed text-lg animate-pulse-slow">
            亲爱的，<br><br>
            
            今天是我们相遇的第 <span class="text-love-primary font-bold" id="days-count">0</span> 天。<br><br>
            
            你的笑容如阳光般温暖，你的眼神如星辰般璀璨。和你在一起的每一天，我都感受到了无尽的幸福和快乐。<br><br>
            
            我想告诉你，我爱你，不仅是今天，而是永远。我希望我们能一起走过每一个春夏秋冬，一起经历生活中的点点滴滴。<br><br>
            
            愿意和我在一起一辈子吗？<br><br>
            
            爱你的人
          </p>
        </div>
        
        <!-- 倒计时 -->
        <div class="text-center">
          <p class="text-gray-600 mb-2">我们相遇于</p>
          <p class="text-love-dark font-bold text-xl" id="meet-date">2025-05-14</p>
        </div>
        
        <!-- 按钮区域 -->
        <div id="button-container" class="flex justify-center space-x-4 mt-8">
          <button id="accept-btn" class="bg-love-primary hover:bg-love-dark text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-love-primary focus:ring-opacity-50">
            <i class="fa-solid fa-heart mr-2 animate-heartbeat"></i>我愿意
          </button>
          <button id="reject-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-8 rounded-full shadow-md transform transition-all duration-300 hover:scale-95 focus:outline-none smooth-move">
            <i class="fa-solid fa-times mr-2"></i>再考虑
          </button>
        </div>
      </div>
    </div>
    
    <!-- 底部信息 -->
    <p class="text-love-primary/70 text-sm mt-auto">用❤️制作</p>
  </div>

  <!-- 接受后弹窗 -->
  <div id="accept-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-500">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl transform scale-90 transition-transform duration-500">
      <div class="text-center">
        <div class="inline-block p-4 rounded-full bg-love-light mb-4">
          <i class="fa-solid fa-heart text-love-primary text-5xl animate-heartbeat"></i>
        </div>
        <h2 class="text-2xl font-bold text-love-primary mb-4">太开心啦！</h2>
        <p class="text-gray-700 mb-6">从现在起，我们要在一起一辈子！</p>
        <button id="close-modal" class="bg-love-primary hover:bg-love-dark text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300" onclick="goToStory()">
          进入我们的故事
        </button>
      </div>
    </div>
  </div>

  <script>
    // 计算相识天数
    function calculateDays() {
      const meetDate = new Date('2025-05-14');
      const today = new Date();
      const timeDiff = today.getTime() - meetDate.getTime();
      const days = Math.floor(timeDiff / (1000 * 3600 * 24));
      document.getElementById('days-count').textContent = days;
    }
    
    // 拒绝按钮移动逻辑
    const rejectBtn = document.getElementById('reject-btn');
    const cardContent = document.getElementById('card-content');
    let moveCount = 0;
    
    // 拒绝按钮移动函数 - 在卡片范围内随机移动
    function moveButtonInCard() {
      // 获取卡片内容区域和按钮的尺寸信息
      const cardRect = cardContent.getBoundingClientRect();
      const btnRect = rejectBtn.getBoundingClientRect();
      
      // 计算可移动的范围（在卡片内容区域内，但保持间距）
      const padding = 20; // 边距
      const maxX = cardRect.width - btnRect.width - padding * 2;
      const maxY = cardRect.height - btnRect.height - padding * 2;
      
      // 随机位置
      const randomX = Math.random() * maxX + padding;
      const randomY = Math.random() * maxY + padding;
      
      // 设置按钮为绝对定位，相对于卡片内容区域
      rejectBtn.style.position = 'absolute';
      rejectBtn.style.zIndex = '10';
      
      // 应用新位置 - 添加平滑过渡
      rejectBtn.style.transition = 'left 0.3s ease, top 0.3s ease';
      rejectBtn.style.left = `${randomX}px`;
      rejectBtn.style.top = `${randomY}px`;
      
      // 增加移动计数
      moveCount++;
      
      // 移动多次后，显示"不要犹豫啦"提示
      if (moveCount >= 5) {
        showHint();
      }
    }
    
    // 点击时移动
    rejectBtn.addEventListener('click', function(e) {
      // 阻止默认点击行为
      e.preventDefault();
      
      // 添加点击动画效果
      rejectBtn.classList.add('scale-90');
      setTimeout(() => {
        rejectBtn.classList.remove('scale-90');
      }, 150);
      
      // 调用移动函数
      moveButtonInCard();
      
      // 移动多次后显示特殊提示
      if (moveCount >= 10) {
        showSpecialHint();
      }
    });
    
    // 显示普通提示
    function showHint() {
      const hint = document.createElement('div');
      hint.className = 'fixed bg-love-primary text-white px-4 py-2 rounded-full shadow-lg z-30 text-sm';
      hint.textContent = '不要犹豫啦~';
      
      // 定位在拒绝按钮附近
      const btnRect = rejectBtn.getBoundingClientRect();
      hint.style.left = `${btnRect.left + btnRect.width/2 - 40}px`;
      hint.style.top = `${btnRect.top - 40}px`;
      
      document.body.appendChild(hint);
      
      // 3秒后自动消失
      setTimeout(() => {
        hint.style.opacity = '0';
        setTimeout(() => {
          document.body.removeChild(hint);
        }, 500);
      }, 3000);
    }
    
    // 显示特殊提示（移动10次后）
    function showSpecialHint() {
      const hint = document.createElement('div');
      hint.className = 'fixed bg-love-dark text-white px-6 py-3 rounded-full shadow-xl z-30 text-sm font-bold';
      hint.textContent = '别躲啦，我知道你也愿意的~ ❤️';
      
      // 定位在屏幕中央
      hint.style.left = '50%';
      hint.style.top = '50%';
      hint.style.transform = 'translate(-50%, -50%)';
      
      document.body.appendChild(hint);
      
      // 5秒后自动消失
      setTimeout(() => {
        hint.style.opacity = '0';
        setTimeout(() => {
          document.body.removeChild(hint);
        }, 500);
      }, 5000);
    }
    
    // 接受按钮交互
    document.getElementById('accept-btn').addEventListener('click', function() {
      const modal = document.getElementById('accept-modal');
      modal.classList.remove('opacity-0', 'pointer-events-none');
      modal.querySelector('div').classList.remove('scale-90');
      modal.querySelector('div').classList.add('scale-100');
      
      // 添加更多爱心
      createFallingHearts();
    });
    
    // 修改这个函数，实现页面跳转
    function goToStory() {
      // 关闭弹窗
      const modal = document.getElementById('accept-modal');
      modal.classList.add('opacity-0', 'pointer-events-none');
      modal.querySelector('div').classList.remove('scale-100');
      modal.querySelector('div').classList.add('scale-90');
      
      // 使用相对路径跳转到2.html，确保路径正确
      window.location.href = '2.html';
    }
    
    // 创建飘落的爱心
    function createFallingHearts() {
      const colors = ['#FF4D6D', '#FF758F', '#FF8FA3', '#FFB3C1', '#FFC2D1'];
      const container = document.body;
      
      for (let i = 0; i < 100; i++) {
        const heart = document.createElement('div');
        const color = colors[Math.floor(Math.random() * colors.length)];
        const size = Math.random() * 30 + 10;
        const left = Math.random() * 100;
        const delay = Math.random() * 5;
        const duration = Math.random() * 10 + 5;
        
        heart.innerHTML = '<i class="fa-solid fa-heart"></i>';
        heart.className = 'fixed z-40';
        heart.style.color = color;
        heart.style.fontSize = `${size}px`;
        heart.style.left = `${left}%`;
        heart.style.top = '-50px';
        heart.style.opacity = Math.random() * 0.8 + 0.2;
        heart.style.animation = `fall ${duration}s linear ${delay}s forwards`;
        
        container.appendChild(heart);
        
        // 动画结束后移除元素
        setTimeout(() => {
          heart.remove();
        }, (duration + delay) * 1000);
      }
    }
    
    // 添加飘落动画样式
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        0% {
          transform: translateY(-50px) rotate(0deg);
        }
        100% {
          transform: translateY(${window.innerHeight}px) rotate(360deg);
        }
      }
    `;
    document.head.appendChild(style);
    
    // 初始化
    calculateDays();
    setInterval(calculateDays, 86400000); // 每天更新一次
    
    // 窗口大小变化时重置按钮位置
    window.addEventListener('resize', function() {
      resetButtonPosition();
    });
    
    // 重置按钮位置
    function resetButtonPosition() {
      rejectBtn.style.position = '';
      rejectBtn.style.left = '';
      rejectBtn.style.top = '';
      rejectBtn.style.zIndex = '';
      moveCount = 0;
    }
  </script>
</body>
</html>  